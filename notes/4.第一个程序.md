# 王爽汇编第四章,第一个程序

[toc]
## 汇编程序从写出到执行的过程

![在这里插入图片描述](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916085044649-300208042.png) 

```assembly
;1.asm
assume cs:code ;代码段code和cs关联

;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
;代码段
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
code segment ;code是标号,最终会被编译成段地址
;程序入口
start: 
       mov ax,0123h
       mov bx,0456h
       add ax,bx
       add ax,ax
       
       ;返回到DOS
       mov ax,4c00h
       int 21h
code ends
;程序结束
end start
;>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
```

编译过程：编译->连接->生成1.exe

![image-20210916085646696](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916085645992-1920496801.png) 

![image-20210916085811678](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916085810952-635256956.png) 

## 程序执行过程的跟踪分析

首先看下图，DOS系统中.EXE文件加载如下，注意和Windows的.EXE有区别。

![在这里插入图片描述](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916090002221-1795309126.png) 

debug进行跟踪分析

![image-20210916090308172](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916090307552-440076882.png) 

![image-20210916090514422](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916090513743-1999455438.png) 

![image-20210916090610399](https://img2020.cnblogs.com/blog/2080041/202109/2080041-20210916090609647-1342137055.png) 

> 文献参考：
> https://blog.csdn.net/qq_39654127/article/details/88698911
